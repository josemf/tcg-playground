{
  "$id": "https://tennistcg.io/schema/ph6a-outcome.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Phase 6.1 â€” Outcome & Results",
  "type": "object",
  "required": ["$prev", "$curr", "$next", "context", "players", "phase"],
  "properties": {
    "$prev": { "type": "string", "format": "uri", "const": "https://tennistcg.io/schema/ph5b-mental.json" },
    "$curr": { "type": "string", "format": "uri", "const": "https://tennistcg.io/schema/ph6a-outcome.json" },
    "$next": { "type": "string", "format": "uri", "const": "https://tennistcg.io/schema/ph6b-approach-net.json" },
    "context": { "$ref": "https://tennistcg.io/schema/ph1-serve.json#/properties/context" },
    "players": { "$ref": "https://tennistcg.io/schema/ph1-serve.json#/properties/players" },
    "phase": {
      "type": "object",
      "required": ["id", "outcome"],
      "properties": {
        "id": { "type": "string", "const": "ph6a-outcome" },
        "outcome": {
          "type": "object",
          "required": ["defenderId", "incomingSQ", "finalRSQ", "result", "pointEnded"],
          "properties": {
            "defenderId": { "type": "string" },
            "incomingSQ": { "type": "integer" },
            "finalRSQ": { "type": "integer" },
            "result": { "type": "string", "enum": ["lose", "weak", "neutral", "strong", "winner", "unforcedError"] },
            "newSQToOpponent": { "type": "integer" },
            "pointEnded": { "type": "boolean" },
            "scoreAfter": {
              "type": "object",
              "properties": {
                "serverPoints": { "type": "string", "enum": ["0", "15", "30", "40", "Ad"] },
                "receiverPoints": { "type": "string", "enum": ["0", "15", "30", "40", "Ad"] }
              }
            }
          }
        }
      }
    }
  }
}
